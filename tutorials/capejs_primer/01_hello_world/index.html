<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <title>Hello, world! - Cape.JS Primer - Cape.JS: Documentation</title>
  <meta name="generator" content="Bootply" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link href="http://capejs.github.io/capejs//css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  
  <link href="http://capejs.github.io/capejs//css/styles.css" rel="stylesheet">
  <link href="http://capejs.github.io/capejs//highlight/styles/default.css" rel="stylesheet">
  <link rel="shortcut icon" href="http://capejs.github.io/capejs//images/favicon_capejs.ico" type="image/vnd.microsoft.icon" />
  <link rel="icon" href="http://capejs.github.io/capejs//images/favicon_capejs.ico" type="image/vnd.microsoft.icon" />
</head>

<body>
<div id="navbar-md" class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <a href="/capejs/" class="navbar-brand">Cape.JS</a>
    </div>
    <nav role="navigation">
      <ul class="nav navbar-nav">
        <li><a href="http://capejs.github.io/capejs//tutorials/" class="link">Tutorials</a></li>
        <li><a href="http://capejs.github.io/capejs//api">API Reference</a></li>
        <li>
          <a href="https://github.com/capejs/capejs">GitHub Repository
          <i class="fa fa-external-link"></i></a>
        </li>
      </ul>
      <button type="button" class="navbar-toggle" data-toggle="offcanvas" data-target=".sidebar-nav">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </nav>
  </div>
</div>
<div id="navbar-sm" class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
      <button type="button" class="navbar-toggle" data-toggle="offcanvas" data-target=".sidebar-nav">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="http://capejs.github.io/capejs//" class="navbar-brand">Cape.JS Doc</a>
      <a href="http://capejs.github.io/capejs//tutorials/" class="link">Tutorials</a>
      <a href="http://capejs.github.io/capejs//api/" class="link">API</a>
      <a href="https://github.com/capejs/capejs" class="link">GitHub
      <i class="fa fa-external-link"></i></a>
  </div>
</div>

<div class="container">
  <div class="row row-offcanvas row-offcanvas-left">
    
        <div class="col-xs-12 col-md-3 sidebar-offcanvas" id="sidebar" role="navigation">
      <ul class="nav">
      
      
        <li><a href="http://capejs.github.io/capejs//#what-is">What is Cape.JS?</a></li>
      
        <li><a href="http://capejs.github.io/capejs//#installation">Installation</a></li>
      
        <li><a href="http://capejs.github.io/capejs//#faq">FAQ</a></li>
      
      
        <li>
          <a href="http://capejs.github.io/capejs//components">Components</a>
          
          <ul>
          
            <li><a href="http://capejs.github.io/capejs//components/#hello-world">Hello World</a></li>
          
            <li><a href="http://capejs.github.io/capejs//components/#es6">ECMAScript 6</a></li>
          
            <li><a href="http://capejs.github.io/capejs//components/#dom-tree">Building Virtual DOM Tree</a></li>
          
            <li><a href="http://capejs.github.io/capejs//components/#click-counter">Click Counter</a></li>
          
            <li><a href="http://capejs.github.io/capejs//components/#shortcut-methods">Shortcut Methods</a></li>
          
            <li><a href="http://capejs.github.io/capejs//components/#html-styles">HTML Styles</a></li>
          
            <li><a href="http://capejs.github.io/capejs//components/#todo-list">Todo List</a></li>
          
            <li><a href="http://capejs.github.io/capejs//components/#mixins">Mixins</a></li>
          
          </ul>
      
        <li>
          <a href="http://capejs.github.io/capejs//data_stores">Data Stores</a>
          
          <ul>
          
            <li><a href="http://capejs.github.io/capejs//data_stores/#basics">Basics</a></li>
          
            <li><a href="http://capejs.github.io/capejs//data_stores/#ajax">Ajax</a></li>
          
          </ul>
      
        <li>
          <a href="http://capejs.github.io/capejs//collection_agents">Collection Agents</a>
          
          <ul>
          
            <li><a href="http://capejs.github.io/capejs//collection_agents/#basics">Basics</a></li>
          
            <li><a href="http://capejs.github.io/capejs//collection_agents/#agent-adapters">Agent Adapters</a></li>
          
            <li><a href="http://capejs.github.io/capejs//collection_agents/#defining-classes">Defining Classes</a></li>
          
            <li><a href="http://capejs.github.io/capejs//collection_agents/#initialization">Initialization</a></li>
          
            <li><a href="http://capejs.github.io/capejs//collection_agents/#creating-resources">Creating Resources</a></li>
          
            <li><a href="http://capejs.github.io/capejs//collection_agents/#rest-operations">REST Operations</a></li>
          
            <li><a href="http://capejs.github.io/capejs//collection_agents/#callbacks-and-error-handlers">Callbacks and Error Handlers</a></li>
          
            <li><a href="http://capejs.github.io/capejs//collection_agents/#changing-path-prefix">Changing the Path Prefix</a></li>
          
            <li><a href="http://capejs.github.io/capejs//collection_agents/#options">Options</a></li>
          
          </ul>
      
        <li>
          <a href="http://capejs.github.io/capejs//resource_agents">Resource Agents</a>
          
          <ul>
          
            <li><a href="http://capejs.github.io/capejs//resource_agents/#basics">Basics</a></li>
          
            <li><a href="http://capejs.github.io/capejs//resource_agents/#agent-adapters">Agent Adapters</a></li>
          
            <li><a href="http://capejs.github.io/capejs//resource_agents/#defining-classes">Defining Classes</a></li>
          
            <li><a href="http://capejs.github.io/capejs//resource_agents/#creating-a-new-resource">Creating a New Resource</a></li>
          
            <li><a href="http://capejs.github.io/capejs//resource_agents/#editing-a-resource">Editing a Resource</a></li>
          
            <li><a href="http://capejs.github.io/capejs//resource_agents/#building-a-dual-use-form">Building a Dual-Use Form</a></li>
          
            <li><a href="http://capejs.github.io/capejs//resource_agents/#deleting-a-resource">Deleting a Resource</a></li>
          
            <li><a href="http://capejs.github.io/capejs//resource_agents/#specifying-a-callback">Specifying a Callback</a></li>
          
            <li><a href="http://capejs.github.io/capejs//resource_agents/#options">Options</a></li>
          
          </ul>
      
        <li>
          <a href="http://capejs.github.io/capejs//router">Router</a>
          
          <ul>
          
            <li><a href="http://capejs.github.io/capejs//router/#simple-routes">Simple Routes</a></li>
          
            <li><a href="http://capejs.github.io/capejs//router/#containers">Containers</a></li>
          
            <li><a href="http://capejs.github.io/capejs//router/#resource-based-routes">Resource Based Routes</a></li>
          
            <li><a href="http://capejs.github.io/capejs//router/#singular-resources">Singular Resources</a></li>
          
            <li><a href="http://capejs.github.io/capejs//router/#nested-resources">Nested Resources</a></li>
          
            <li><a href="http://capejs.github.io/capejs//router/#namespaces">Namespaces</a></li>
          
            <li><a href="http://capejs.github.io/capejs//router/#adding-custom-actions">Adding Custom Actions</a></li>
          
            <li><a href="http://capejs.github.io/capejs//router/#changing-root-container">Changing Root Container</a></li>
          
            <li><a href="http://capejs.github.io/capejs//router/#vars">Vars</a></li>
          
            <li><a href="http://capejs.github.io/capejs//router/#flash">Flash</a></li>
          
            <li><a href="http://capejs.github.io/capejs//router/#navigation-and-redirection">Navigation and Redirection</a></li>
          
            <li><a href="http://capejs.github.io/capejs//router/#component-replacement">Component Replacement</a></li>
          
            <li><a href="http://capejs.github.io/capejs//router/#query-params">Query Rarams</a></li>
          
            <li><a href="http://capejs.github.io/capejs//router/#before-navigation-callbacks">Before-Navigation Callbacks</a></li>
          
          </ul>
      
        <li>
          <a href="http://capejs.github.io/capejs//tutorials">Tutorials</a>
          
          <ul>
          
            <li><a href="http://capejs.github.io/capejs//tutorials/#capejs-primer">Cape.JS Primer</a></li>
          
          </ul>
      
        <li><a href="http://capejs.github.io/capejs//api">API Reference</a></li>
      </ul>
    </div>

    
    <div class="col-sm-12 col-md-9">
      <article>
        <header>
          <h2>Hello, world! - Cape.JS Primer</h2>
          <div class="post-meta clearfix">
          </div>
        </header>
        <div>
          <p>The first serial story of &ldquo;Cape.JS Primer&rdquo; is starting from a practice to show &ldquo;Hello, world!&rdquo; on a browser screen as the tradition.</p>

<div class="note">
Although I'm afraid to inform you this, Cape.JS supports only Firefox, Google Chrome, Safari 6.1 or later, and Internet Explore 11. Especially, it doesn't operate while using Internet Explorer 10 or earlier.
</div>

<p>I know this is sudden, but create a HTML file by using some text editor and which content is below. And save it as <code>hello_message1.html</code>.</p>

<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta charset=&quot;utf-8&quot;&gt;
  &lt;title&gt;HELLO WORLD&lt;/title&gt;
  &lt;script src=&quot;https://cdn.rawgit.com/oiax/capejs/v1.0.1/dist/cape.min.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id=&quot;main&quot;&gt;&lt;/div&gt;
  &lt;script&gt;
    var HelloMessage = Cape.createComponentClass({
      render: function(m) {
        m.p('Hello, world!');
      }
    });

    var component = new HelloMessage();
    component.mount('main');
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>Then, open the file on the browser. It&rsquo;s supposed to be tiny display on the upper left of the screen.</p>

<div class="block-image">
<img src="/capejs/images/capejs_primer/hello_message1.png" alt="Screen capture">
</div>

<p>It&rsquo;s very simple but also a brave program of Cape.JS.</p>

<p>The program is written within a tag <code>&lt;script&gt;</code> .</p>

<pre><code class="language-javascript">var HelloMessage = Cape.createComponentClass({
  render: function(m) {
    m.p('Hello, world!');
  }
});

var component = new HelloMessage();
component.mount('main');
</code></pre>

<p>The first 5 lines define <strong>class</strong> a <code>HelloMessage</code> . It creates the instance and put <code>component</code> into the variable and lastly, call the method <code>mount</code>.</p>

<p>A basic pattern of programming of Cape.JS is to define the component class, make its instance and place it somewhere in a website. Each instance of the component class has the method <code>mount</code>. When you specify an value with an <code>id</code> attribute of an element on the website, you can mount the component there.</p>

<p><code>&lt;div id=&quot;main&quot;&gt;&lt;/div&gt;</code> is written in the HTML file of the example above. The component <code>HelloMessage</code> is mounted within there.</p>

<div class="note">
I think observant readers may notice that the program of Cape.JS is very similar to the program of <a href="https://facebook.github.io/react/">React</a>. The creator of Cape.JS (that is me in fact) met React and <a href="https://muut.com/riotjs/">Riot</a> when I looked for a JavaScript UL framework for my development project and start developing of Cape.JS because he thought he could make it by himself. Cape.JS is influenced greatly from these frameworks such as from terminology, the way to choose names of method to implementations of inside.
</div>

<p>Well, the component class of Cape.JS has to have the instant method <code>render</code>. The role of this method is to make <strong>virtual DOS tree</strong>. I&rsquo;ll explain what &ldquo;virtual DOS tree&rdquo; is in another setting, and please understand that you learn &ldquo;a part of HTML document&rdquo;.</p>

<p>The method <code>render</code> the class <code>HelloMessage</code> is defined as below.</p>

<pre><code class="language-javascript">render: function(m) {
  m.p('Hello, world!');
}
</code></pre>

<p>A unique parameter (<code>m</code>) of the method is an object as called as ** Markup builder**. We prescribe this object the way to make the part of HTML document.</p>

<p>An interesting character of Cape.JS is that the method name directly corresponds to an element name of HTML. In the example above the method <code>p</code> is used and of course it corresponds to the element <code>&lt;p&gt;</code>. That means that make the part of HTML document like below.</p>

<pre><code class="language-html">&lt;p&gt;Hello, world!&lt;/p&gt;
</code></pre>

<p>It&rsquo;s easy to image the way to surround &ldquo;Hello, world!&rdquo; with the tag <code>&lt;h1&gt;</code> instead of the tag <code>&lt;p&gt;</code>. Yes, you&rsquo;re right. It&rsquo;s supposed to be written like following.</p>

<pre><code class="language-javascript">render: function(m) {
  m.h1('Hello, world!');
}
</code></pre>

<p>Then, what should we do if we want to make the virtual DOM tree <code>&lt;div class=&quot;greeting&quot;&gt;Hello, world!&lt;/div&gt;</code>? There are 4 ways prepared by Cape.JS.  The first way is to pass the method <code>div</code> as hash representing the name and value of HTML attribute.</p>

<pre><code class="language-javascript">render: function(m) {
  m.div('Hello, world!', { class: 'greeting' });
}
</code></pre>

<p>The second way is to call the method <code>class</code> before calling the method <code>div</code>.</p>

<pre><code class="language-javascript">render: function(m) {
  m.class('greeting');
  m.div('Hello, world!');
}
</code></pre>

<p>Next, decide the <code>class</code> attribute of an element to be added to the virtual DOM tree for the method <code>class</code> of markup builder,</p>

<p>The third way is also to call the method <code>class</code> but pass hash as parameters.</p>

<pre><code class="language-javascript">render: function(m) {
  m.class({ greeting: true });
  m.div('Hello, world!');
}
</code></pre>

<p>The forth way is to enter the method <code>elem</code>. This method used character string of CSS&rsquo;s selector format to the first parameter.</p>

<pre><code class="language-javascript">render: function(m) {
  m.elem('div.greeting', 'Hello, world!');
}
</code></pre>

<p>These four ways have both advantages and disadvantages. The first way is the most intuitive but the possibility may be getting lower if the program gets more difficult. In case when you change <code>class</code> attributes of HTML element, it&rsquo;s easier to code in the second or third way. For some people, the forth way may be attractive.</p>

<p>And, it&rsquo;s possible to joint methods like a chain because markup builder return itself like following.</p>

<pre><code class="language-javascript">render: function(m) {
  m.class('greeting').div('Hello, world!');
}
</code></pre>

<p>This is the end of the first lecture. On <a href="../02_custom_attributes_and_nested_elements">the next lecture</a>
we will explain how to acquire data from elements that components are mounted on.
We will also talk about the nesting of HTML elements.</p>

        </div>
      </article>
    </div>
  </div>
</div>

<script src="//code.jquery.com/jquery-2.1.3.min.js"></script>
<script src="http://capejs.github.io/capejs//js/bootstrap.min.js"></script>
<script src="http://capejs.github.io/capejs//js/scripts.js"></script>
<script src="http://capejs.github.io/capejs//highlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<div id="footer-sm" class="footer navbar-fixed-bottom">
  <div>Copyright &copy; 2015-2016 <a href="https://github.com/kuroda">Tsutomu Kuroda</a> and contributors.</div>
</div>
<div id="footer-xs" class="footer">
  <div>Copyright &copy; 2015-2016 <a href="https://github.com/kuroda">Tsutomu Kuroda</a> and contributors.</div>
</div>

</body>
</html>
